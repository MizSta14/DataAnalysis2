/*
 This file is auto-generated by the statrep package.
 Do not edit this file or your changes will be lost.
 Edit the LaTeX file instead.
 
 See the statrep package documentation and the file
 statrep.cfg for information on these settings.
 */
 
 
%include "./code_SR_preamble.sas" /nosource;
/* Remove all output files. */
%cleandir(., tex, tex);
%cleandir(., png, png);
%cleandir(., lst, lst);


/* Start program with a null title. */
title;

%output(class)
libname da2 'C:\Users\psy6b\Desktop\8320 datasets';
ods graphics on;
options ls=70 ps=35;

data da2.h6q2;
infile 'C:\Users\psy6b\Desktop\8320 datasets\PothoffRoy1964.dat';
input ID Gender $ Age8 Age10 Age12 Age14;
run;
PROC GLM;
     CLASS gender;
     MODEL AGE8--AGE14 = gender / NOUNI ;
     REPEATED AGE POLYNOMIAL  / SUMMARY PRINTM PRINTE;
RUN;
data unidata;
set da2.h6q2;
array m{4} age8--age14;
keep id Gender age measure;
do i=0 to 3;
age=8+i*2;
measure=m(i+1);
output;
end;
run;
proc mixed data=unidata;
class Gender age;
model measure=gender|age/ solution;
repeated /subject=ID type=cs;
run;
proc mixed data=unidata;
class Gender;
model measure=gender|age/ solution;
repeated /subject=ID type=cs;
run;
data da2.h6q3;
input Rein Cond1-Cond4;
datalines;
1 29 20 21 18
1 24 15 10 8
1 31 19 10 31
1 41 11 15 42
1 30 20 27 53
2 25 17 19 17
2 20 12 8  8
2 35 16 9  28
2 38 8  14 40
2 26 18 18 51
3 10 18 16 14
3 9  10 18 11
3 7  18 19 12
3 8  19 20 5
3 11 20 17 6
;
run;
PROC SUMMARY NWAY DATA=da2.h6q3;
CLASS rein;
VAR cond1-cond4;
OUTPUT OUT=new MEAN=cond1-cond4;
RUN;
DATA plot;
SET new;
ARRAY m{4} cond1-cond4;
DO time=1 TO 4;
response=m(time);
OUTPUT;
END;
keep time response rein;
RUN;
AXIS1 LABEL=(ANGLE=90 H=1.2 'Response');
AXIS2 OFFSET=(15) LABEL=(H=1.2 'Time');
SYMBOL VALUE=DOT I=JOIN;
TITLE 'Profile plot';
PROC GPLOT DATA=plot;
PLOT response*time=rein / VAXIS=AXIS1 HAXIS=AXIS2 HMINOR=0 VMINOR=1;
RUN;
PROC GLM DATA=da2.h6q3;
CLASS rein;
MODEL cond1-cond4=rein / NOUNI;
MANOVA H=rein / PRINTE PRINTH;
TITLE 'Overall Reinforcement Schedule Effect';
RUN;
PROC GLM DATA=da2.h6q3;
CLASS rein;
MODEL cond1-cond4=rein / NOUNI;
CONTRAST 'Compare Schedule 1 v.s. Schedule 2' rein 0 +1 -1;
CONTRAST 'Compare Schedule 1 & 2 v.s. Schedule 3' rein -1 -1 +2;
MANOVA M=(+1 -1  0  0,
   0 +1 -1  0,
   0  0 +1 -1);
RUN;



%endoutput(class)

%write(h6re,store=class,type=listing) 

%write(h6re,store=class,type=graphic) 

